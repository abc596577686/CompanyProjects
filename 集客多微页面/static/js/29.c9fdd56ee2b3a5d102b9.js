webpackJsonp([29],{D6pg:function(s,t){},baKV:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("qwAB"),n=e("ur2F"),i=e("uX7S"),a=e("P9l9"),c=e("fPUB"),u=e("mw3O"),l=e.n(u),r=e("MfZv"),p=e.n(r),v={data:function(){return{items:30,beforeScroll:!0,listenScroll:!0,probeType:3,coupon:!0,navList:[{id:0,channelName:"可使用优惠券"},{id:1,channelName:"不可使用优惠券"}],curSelectIndex:0,unUseCouponList:[],useCouponList:[],curSelectItem:null,curUseCouponId:"",isAc:0}},created:function(){},mounted:function(){var s=this;setTimeout(function(){s.useCouponId=s.$route.query.useCouponId,s.coupons=p.a.get("coupons"),s.useCouponList=s.coupons.availableCouponList,s.unUseCouponList=s.coupons.unavailableCouponList,s.useCouponList.forEach(function(t,e){t.userCouponId==s.useCouponId&&(s.curSelectItem=e)})},20)},methods:{changeNavBar:function(s){console.log(s),this.$refs.slideContent.scrollTo(s)},changeSlideIndex:function(s){this.$refs.navBar.changeCurrentIndex(s)},noUseEnv:function(){p.a.set("couponId","-1"),this.$router.go(-1)},startPlay:function(){},pausePlay:function(){},selectCouponEnv:function(s,t){this.curSelectItem=t,console.log("当前优惠券:"),console.log(s),p.a.set("couponId",Number(s.userCouponId)),this.$router.go(-1)},_getCouponList:function(){var s=this,t=l.a.stringify({a:"v1/orderCheckDetail",productId:this.productId,postType:this.postType,number:this.number});Object(a.t)(t).then(function(t){if("1"==t.code){console.log("优惠券----"),console.log(t);var e=t;s.unUseCouponList=e.coupon.unavailableCouponList,s.useCouponList=e.coupon.availableCouponList,console.log(c.a)}})},showac:function(s){this.isAc=s,this.$refs.slideContent.scrollTo(s)}},components:{Scroll:o.a,StaticNav:n.a,ContentSlide:i.a}},d={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"couponWrap"},[e("div",{directives:[{name:"title",rawName:"v-title"}],attrs:{"data-title":"优惠券"}}),s._v(" "),e("div",{staticClass:"toptit"},s._l(s.navList,function(t,o){return e("span",{class:{iscc:o==s.isAc},on:{click:function(t){s.showac(o)}}},[s._v(s._s(t.channelName))])})),s._v(" "),e("div",{staticClass:"couponListWrap"},[e("content-slide",{ref:"slideContent",attrs:{autoPlay:!1,loop:!1},on:{changeSlideIndex:s.changeSlideIndex,pausePlay:s.pausePlay,startPlay:s.startPlay}},[e("div",{staticClass:"useCoupon slideItem"},[s._l(s.useCouponList,function(t,o){return s.useCouponList.length?e("div",{staticClass:"item",class:{selected:s.curSelectItem==o||s.curUseCouponId==t.userCouponId},on:{click:function(e){s.selectCouponEnv(t,o)}}},[e("div",{staticClass:"labelWrap"},[e("span",[s._v("¥"),e("em",{staticClass:"price",domProps:{innerHTML:s._s(t.giveAmount)}})]),s._v(" "),e("p",{staticClass:"tips"},[s._v("满 "),e("em",{domProps:{innerHTML:s._s(t.fullAmount)}}),s._v(" 使用")])]),s._v(" "),e("div",{staticClass:"contentDesc"},[e("div",{staticClass:"top"},[e("span",{staticClass:"type",domProps:{innerHTML:s._s(t.typeName)}}),s._v(" "),e("span",{staticClass:"name",domProps:{innerHTML:s._s(t.couponName)}})]),s._v(" "),e("div",{staticClass:"bottom"},[e("p",{staticClass:"effectiveTime",domProps:{innerHTML:s._s(t.effectiveTimeFormat)}})])]),s._v(" "),e("div",{staticClass:"selectTag"})]):s._e()}),s._v(" "),s.useCouponList.length?s._e():e("div",{staticClass:"noMore"},[s._v("无可使用优惠券")])],2),s._v(" "),e("div",{staticClass:"unUseCoupon slideItem"},[s._l(s.unUseCouponList,function(t){return s.unUseCouponList.length?e("div",{staticClass:"item"},[e("div",{staticClass:"labelWrap"},[e("span",[s._v("¥"),e("em",{staticClass:"price",domProps:{innerHTML:s._s(t.giveAmount)}})]),s._v(" "),e("p",{staticClass:"tips"},[s._v("满 "),e("em",{domProps:{innerHTML:s._s(t.fullAmount)}}),s._v(" 使用")])]),s._v(" "),e("div",{staticClass:"contentDesc"},[e("div",{staticClass:"top"},[e("span",{staticClass:"type",domProps:{innerHTML:s._s(t.typeName)}}),s._v(" "),e("span",{staticClass:"name",domProps:{innerHTML:s._s(t.couponName)}})]),s._v(" "),e("div",{staticClass:"bottom"},[e("p",{staticClass:"effectiveTime",domProps:{innerHTML:s._s(t.effectiveTimeFormat)}})])]),s._v(" "),e("div",{staticClass:"selectTag"})]):s._e()}),s._v(" "),s.unUseCouponList.length?s._e():e("div",{staticClass:"noMore"},[s._v("无不可使用优惠券")])],2)])],1),s._v(" "),e("div",{staticClass:"noCouponWrap"},[e("p",{staticClass:"noUse",on:{click:s.noUseEnv}},[s._v("不使用优惠券")])])])},staticRenderFns:[]};var C=e("VU/8")(v,d,!1,function(s){e("D6pg")},"data-v-76282bbb",null);t.default=C.exports}});