webpackJsonp([32],{baKV:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=e("qwAB"),n=e("ur2F"),i=e("uX7S"),a=e("P9l9"),c=e("fPUB"),u=e("mw3O"),l=e.n(u),r=e("MfZv"),p=e.n(r),v={data:function(){return{items:30,beforeScroll:!0,listenScroll:!0,probeType:3,coupon:!0,navList:[{id:0,channelName:"可使用优惠券"},{id:1,channelName:"不可使用优惠券"}],curSelectIndex:0,unUseCouponList:[],useCouponList:[],curSelectItem:null,curUseCouponId:"",isAc:0}},created:function(){},mounted:function(){var t=this;setTimeout(function(){t.useCouponId=t.$route.query.useCouponId,t.coupons=p.a.get("coupons"),t.useCouponList=t.coupons.availableCouponList,t.unUseCouponList=t.coupons.unavailableCouponList,t.useCouponList.forEach(function(s,e){s.userCouponId==t.useCouponId&&(t.curSelectItem=e)})},20)},methods:{changeNavBar:function(t){console.log(t),this.$refs.slideContent.scrollTo(t)},changeSlideIndex:function(t){this.$refs.navBar.changeCurrentIndex(t)},noUseEnv:function(){p.a.set("couponId","-1"),this.$router.go(-1)},startPlay:function(){},pausePlay:function(){},selectCouponEnv:function(t,s){this.curSelectItem=s,console.log("当前优惠券:"),console.log(t),p.a.set("couponId",Number(t.userCouponId)),this.$router.go(-1)},_getCouponList:function(){var t=this,s=l.a.stringify({a:"v1/orderCheckDetail",productId:this.productId,postType:this.postType,number:this.number});Object(a.u)(s).then(function(s){if("1"==s.code){console.log("优惠券----"),console.log(s);var e=s;t.unUseCouponList=e.coupon.unavailableCouponList,t.useCouponList=e.coupon.availableCouponList,console.log(c.a)}})},showac:function(t){this.isAc=t,this.$refs.slideContent.scrollTo(t)}},components:{Scroll:o.a,StaticNav:n.a,ContentSlide:i.a}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"couponWrap"},[e("div",{directives:[{name:"title",rawName:"v-title"}],attrs:{"data-title":"优惠券"}}),t._v(" "),e("div",{directives:[{name:"stat",rawName:"v-stat",value:{type:"pageview",title:"优惠券"},expression:"{type:'pageview', title:'优惠券'}"}]}),t._v(" "),e("div",{staticClass:"toptit"},t._l(t.navList,function(s,o){return e("span",{class:{iscc:o==t.isAc},on:{click:function(s){t.showac(o)}}},[t._v(t._s(s.channelName))])})),t._v(" "),e("div",{staticClass:"couponListWrap"},[e("content-slide",{ref:"slideContent",attrs:{autoPlay:!1,loop:!1},on:{changeSlideIndex:t.changeSlideIndex,pausePlay:t.pausePlay,startPlay:t.startPlay}},[e("div",{staticClass:"useCoupon slideItem"},[t._l(t.useCouponList,function(s,o){return t.useCouponList.length?e("div",{staticClass:"item",class:{selected:t.curSelectItem==o||t.curUseCouponId==s.userCouponId},on:{click:function(e){t.selectCouponEnv(s,o)}}},[e("div",{staticClass:"labelWrap"},[e("span",[t._v("¥"),e("em",{staticClass:"price",domProps:{innerHTML:t._s(s.giveAmount)}})]),t._v(" "),e("p",{staticClass:"tips"},[t._v("满 "),e("em",{domProps:{innerHTML:t._s(s.fullAmount)}}),t._v(" 使用")])]),t._v(" "),e("div",{staticClass:"contentDesc"},[e("div",{staticClass:"top"},[e("span",{staticClass:"type",domProps:{innerHTML:t._s(s.typeName)}}),t._v(" "),e("span",{staticClass:"name",domProps:{innerHTML:t._s(s.couponName)}})]),t._v(" "),e("div",{staticClass:"bottom"},[e("p",{staticClass:"effectiveTime",domProps:{innerHTML:t._s(s.effectiveTimeFormat)}})])]),t._v(" "),e("div",{staticClass:"selectTag"})]):t._e()}),t._v(" "),t.useCouponList.length?t._e():e("div",{staticClass:"noMore"},[t._v("无可使用优惠券")])],2),t._v(" "),e("div",{staticClass:"unUseCoupon slideItem"},[t._l(t.unUseCouponList,function(s){return t.unUseCouponList.length?e("div",{staticClass:"item"},[e("div",{staticClass:"labelWrap"},[e("span",[t._v("¥"),e("em",{staticClass:"price",domProps:{innerHTML:t._s(s.giveAmount)}})]),t._v(" "),e("p",{staticClass:"tips"},[t._v("满 "),e("em",{domProps:{innerHTML:t._s(s.fullAmount)}}),t._v(" 使用")])]),t._v(" "),e("div",{staticClass:"contentDesc"},[e("div",{staticClass:"top"},[e("span",{staticClass:"type",domProps:{innerHTML:t._s(s.typeName)}}),t._v(" "),e("span",{staticClass:"name",domProps:{innerHTML:t._s(s.couponName)}})]),t._v(" "),e("div",{staticClass:"bottom"},[e("p",{staticClass:"effectiveTime",domProps:{innerHTML:t._s(s.effectiveTimeFormat)}})])]),t._v(" "),e("div",{staticClass:"selectTag"})]):t._e()}),t._v(" "),t.unUseCouponList.length?t._e():e("div",{staticClass:"noMore"},[t._v("无不可使用优惠券")])],2)])],1),t._v(" "),e("div",{staticClass:"noCouponWrap"},[e("p",{staticClass:"noUse",on:{click:t.noUseEnv}},[t._v("不使用优惠券")])])])},staticRenderFns:[]};var C=e("VU/8")(v,d,!1,function(t){e("tFdC")},"data-v-14ddac98",null);s.default=C.exports},tFdC:function(t,s){}});